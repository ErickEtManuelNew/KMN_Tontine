@* SidebarMobile.razor *@
@using Components.Layout

@if (IsOpen && NavigationItems != null)
{
    <div class="md:hidden">
        <div class="fixed inset-0 flex z-40">
            <div class="absolute inset-0 bg-black opacity-50" @onclick="ToggleSidebar"></div>

            <aside class="relative flex flex-col w-64 bg-white shadow-lg border-r border-gray-200">
                <div class="flex justify-between p-4 border-b">
                    <h1 class="text-xl font-bold text-indigo-600">KMN Tontine</h1>
                    <button @onclick="ToggleSidebar" class="text-gray-700 hover:text-gray-900">
                        ✖
                    </button>
                </div>

                <nav class="flex-1 p-3 space-y-2">
                    @foreach (var item in NavigationItems)
                    {
                        <a href="@item.Url" class="flex items-center px-4 py-2 rounded-md text-gray-700 hover:bg-gray-100">
                            <i class="@item.Icon mr-3"></i>
                            <span>@item.Label</span>
                        </a>
                    }
                </nav>

                <div class="border-t border-gray-300 p-4 flex items-center">
                    <i class="fas fa-user-circle text-gray-600 text-2xl"></i>
                    <div class="ml-3">
                        <p class="text-sm font-medium text-gray-700">@UserName</p>
                        <button @onclick="ToggleSidebar" class="text-xs text-red-600 hover:underline">
                            <i class="fas fa-sign-out-alt mr-2"></i> Se déconnecter
                        </button>
                    </div>
                </div>
            </aside>
        </div>
    </div>
}

@code {
    [Parameter] public List<MainNav.NavItem> NavigationItems { get; set; }
    [Parameter] public string UserName { get; set; }
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback ToggleSidebar { get; set; }
}
